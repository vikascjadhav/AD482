"""
Lab Progress Monitoring

This module watches any lab progress by using a list of test functions.
Tests funcions should use the "test" decorator
and the "expect" function for assertions, as follows:

    @labprogress.test("Test description")
    def some_test(...):
        expect(condition, error_msg, hints)
"""

from typing import Callable, List
from .monitor import LabProgressMonitor
from .tests import test, expect, TestError


def watch(tests: List[Callable], labname="", sleep_seconds=1, on_finish=None):
    """
    Watches the progress made in a lab by executing a list of tests
    """
    monitor = LabProgressMonitor(tests, labname, sleep_seconds, on_finish)
    monitor.watch()
    return monitor


__all__ = [watch, test, expect, TestError]
