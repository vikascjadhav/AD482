Metadata-Version: 2.1
Name: rht-labs-ad482
Version: 1.8.4
Summary: Red Hat Training Labs for Course AD482
Home-page: https://github.com/RedHatTraining/AD482/
Author: Red Hat Training - AppDev Practice Team
Author-email: curriculum-appdev@redhat.com
Maintainer: Red Hat Training - AppDev Practice Team
Maintainer-email: curriculum-appdev@redhat.com
License: Proprietary
Project-URL: Source, https://github.com/RedHatTraining/AD482
Project-URL: Tracker, https://github.com/RedHatTraining/AD482/issues
Keywords: training,labs
Platform: any
Classifier: License :: Other/Proprietary License
Classifier: Development Status :: 3 - Alpha
Classifier: Intended Audience :: Students
Classifier: Operating System :: MacOS :: MacOS X
Classifier: Operating System :: Microsoft :: Windows
Classifier: Operating System :: POSIX
Classifier: Programming Language :: Python :: 3.6
Classifier: Programming Language :: Python :: 3.7
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Topic :: Training
Classifier: Topic :: Utilities
Requires-Python: >=3.6.5
Description-Content-Type: text/markdown
License-File: LICENSE

# Grading Script Development Docs

## Requirements

* Python >= 3.6.

## How to install this library (instructions for students)

```sh
$ python3 -m venv .venv
$ source .venv/bin/activate
$ pip install --upgrade pip
$ pip install rht-labs-ad482 --extra-index-url https://pypi.apps.tools-na.prod.nextcle.com/repository/labs/simple
$ lab select ad482
```

## Setup for development

In the `classroom/grading` folder, create a virtual environment and install development dependencies.

```sh
$ python3 -m venv .venv
$ source .venv/bin/activate
$ pip install -r requirements.txt --extra-index-url https://pypi.apps.tools.dev.nextcle.com/repository/labs/simple
$ pip install -e . --extra-index-url https://pypi.apps.tools.dev.nextcle.com/repository/labs/simple
$ lab select ad482 # Creates the ~/.grading/config.yaml file
```

Run the `configure` lab to verify that the library works and setup the workspace

```sh
$ lab start eda-setup
```

This script configures the connection parameters to access the OpenShift cluster for your lab scripts.

### Test and lint

To run the tests, run `make test`.

To run the flake8 linter, run `make lint`.

### Versions & Releases

The `ad482/version.py` file specifies the package version, following a semantic release approach.

### Continuous Dev releases for changes in main

Every change in the `main` is continuously published as a new development build to the PyPI servers.
Dev builds are deployed to the PyPI prod server, and are intended to be used in EA Prod.

Dev builds are versioned as `x.y.z.dev<BUILD_ID>`, where:

* `x.y.z` is read from `ad482/version.py`.
* `BUILD_ID` is the Jenkins Build id.

Inspect `../Jenkinsfile-curriculum` for more details.

### Stable releases

For (non-EA) production releases, bump the version in `ad482/version.py` and then run:

```sh
make build
PS_PASSWD_PROD=... make publish-prod
```

_NOTE: You can use the `bump` script to bump the version file_.


### Freeze the dependency tree

If you install new dependencies or update existing ones, then you should freeze the new dependency tree.
Run:

```sh
pip freeze --local > requirements.txt
```

### Pypi servers

We have 2 Pypi servers available, Stage and Prod.

#### For package installation
Index URLs are:

* Stage: https://pypi.apps.tools.dev.nextcle.com/repository/labs/simple/
* Prod: https://pypi.apps.tools-na.prod.nextcle.com/repository/labs/simple/

When installing this library, add the repository URL to the `pip install` command:

```sh
pip install rht-labs-ad482 --extra-index-url https://pypi.apps.tools.dev.nextcle.com/repository/labs/simple
```


#### For package publication
To publish the package, you need to you use another path:

* Stage: https://pypi.apps.tools.dev.nextcle.com/repository/labs/
* Prod: https://pypi.apps.tools-na.prod.nextcle.com/repository/labs/

These URLs are already configured in the publish targets of the `Makefile`.

Package publication requires authentication.
Ask for credentials in the [GChat Dynolabs channel](https://chat.google.com/u/1/room/AAAA6DP4-qg).


